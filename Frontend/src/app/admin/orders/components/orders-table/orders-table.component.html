<div class="table-wrapper mat-elevation-z4 p-4 bg-dark text-white">

  <table mat-table [dataSource]="dataSource" style="background-color: transparent !important; "
         class="common-table w-100">

    @for (column of tableService.columns; track column) {
      <ng-container [matColumnDef]="column.index">
        <th mat-header-cell *matHeaderCellDef class="header-cell">
          {{ column.title }}
        </th>
        <td mat-cell *matCellDef="let element" class="body-cell">
          @switch (column.type) {
            @case (columnTypeEnum.boolean) {
              <span class="badge" [ngClass]="element[column.index] ? 'badge-success' : 'badge-danger'">
                {{ element[column.index] ? 'Yes' : 'No' }}
              </span>
            }
            @case (columnTypeEnum.action) {
              <button mat-mini-fab class="bg-white" aria-label="Action" (click)="navigateOrderDetails(element)">
                <mat-icon>arrow_forward</mat-icon>
              </button>
            }
            @case (columnTypeEnum.date) {
              <span>{{ element[column.index] | date: 'd MMM yyyy | HH:mm' }}</span>
            }
            @case (columnTypeEnum.concatText) {
              <ng-container *ngFor="let val of column.values; let i = index">
                {{ element[val] }}
              </ng-container>
            }
            @default {
              <span>{{ element[column.index] }}</span>
            }
          }
        </td>

      </ng-container>
    }

    <tr mat-header-row *matHeaderRowDef="tableService.displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: tableService.displayedColumns;" class="data-row"></tr>

  </table>

  <mat-paginator [pageSizeOptions]="tableService.pageSizeOptions" style="background-color: transparent !important;"
                 showFirstLastButtons class="mt-3">
  </mat-paginator>
</div>
